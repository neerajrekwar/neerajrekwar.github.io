<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Number Count Animation</title>
<style>
  /* Style for demonstration purpose */
  .section {
    margin-bottom: 100px;
  }
  .number {
    font-size: 36px;
    font-weight: bold;
    color: #333;
    margin: 20px 0;
  }
  .new{
    height: 150vh;
  }

</style>
</head>
<body>
<main >
<section class="section" id="projects">
  <h2>Projects</h2>
  <div class="number" data-count="50">0 </div>
</section>

<section class="section" id="happy-clients">
  <h2>Happy Clients</h2>
  <div class="number" data-count="100">0</div>
</section>
</main>
<script>
  const options = {
    root: null,
    rootMargin: '0px',
    threshold: 0.5 // Trigger when 50% of the element is visible
  };

  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        animateNumbers(entry.target);
      }
    });
  }, options);

  document.querySelectorAll('.section').forEach(section => {
    observer.observe(section);
  });

  function animateNumbers(targetElement) {
    const counter = targetElement.querySelector('.number');
    const target = +counter.getAttribute('data-count');
    const duration = 2000; // Total animation duration
    const speed = 120; // Animation speed (milliseconds per frame)

    let count = 0;
    const increment = target / (duration / speed);

    const updateCount = () => {
      count += increment;
      if (count < target) {
        counter.innerText = Math.ceil(count);
        setTimeout(updateCount, speed);
      } else {
        counter.innerText = target;
      }
    };

    updateCount();
  }

  window.addEventListener('load', () => {
    document.querySelectorAll('.section').forEach(section => {
      if (section.getBoundingClientRect().top < window.innerHeight) {
        animateNumbers(section);
      }
    });
  });
</script>

</body>
</html>
