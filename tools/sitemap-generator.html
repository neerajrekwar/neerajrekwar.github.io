<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sitemap Generator</title>
</head>
<body>
    <h1>Sitemap Generator</h1>
    <button onclick="generateSitemap()">Generate Sitemap</button>
    <pre id="sitemapOutput"></pre>

    <script>
        function generateSitemap() {
            const baseURL = prompt("Enter the base URL of the website (e.g., https://example.com):");
            
            if (!baseURL) {
                alert("Please enter a valid base URL.");
                return;
            }

            fetch(`${baseURL}/robots.txt`)
                .then(response => response.text())
                .then(robotsTxt => {
                    const sitemapRegex = /Sitemap: (.+)/g;
                    let match;
                    const sitemaps = [];

                    while ((match = sitemapRegex.exec(robotsTxt)) !== null) {
                        sitemaps.push(match[1]);
                    }

                    if (sitemaps.length === 0) {
                        alert("No sitemap found in robots.txt.");
                        return;
                    }

                    const fetchPromises = sitemaps.map(sitemapURL =>
                        fetch(sitemapURL)
                            .then(response => response.text())
                            .then(sitemapXML => {
                                document.getElementById("sitemapOutput").textContent += sitemapXML;
                            })
                    );

                    Promise.all(fetchPromises)
                        .then(() => alert("Sitemap generated successfully."))
                        .catch(error => alert(`Error: ${error}`));
                })
                .catch(error => {
                    alert(`Error fetching robots.txt: ${error}`);
                });
        }
    </script>
</body>
</html>
